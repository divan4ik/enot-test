# Тестовое задание для ENOT
### OTP подтвержение

- Реализовать систему подтверждения смены конкретной настройки пользователя по коду из смс / email / telegram с возможностью выбора пользователем другого метода
- Какие вы выделили бы слои, абстракции, таблицы?
- Реализуйте данную схему без интеграции конкретных сервисов / ORM / прочее на уровне интерфейсов / контроллеров

### Мои рассуждения
Предполагаю что нам важно помнить когда и что именно подтверждал пользователь, мало ли что в законодательстве изменится. Тут наверно лучше регистрировать через какой-то логгер или EventSourcing. По идее источником истины о том является ли одно поле настройки подписываемым должен быть бэк, но часто фронт сам готовит форму по ТЗ используя готовую библиотеку компонентов, поэтому в ТЗ учтено требование подписи изменения.
>Лично я не видел такой реализации на фронте когда допустим после отправки POST\PUT\DELETE, с бека возвращаются флаги о подписи, фронт инициализирует компонент для ввода кода и просьбы повторной отправки и еще учитывая выбранный ранее метод (ничего себе полиморфизм).

Таким образом у нас в каждый useCase который по тз получает данные с кодом будет вшита проверка кода. Теперь главное сделать так что бы при изменении бизнес процесса подписи не нужно было заходить в каждый клиентский код и править вызов и передачу параметров.

По реализации - для отправки сообщения пользователю необходимо знать как минимум его личность что бы достать данные о методе отправки и контактах. В проектировании этого процесса надо избежать циклических зависимостей.

Пароли будем складывать в табличку one_time_passwords. 
